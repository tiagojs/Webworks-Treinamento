var bbm={registered:!1,register:function(){blackberry.event.addEventListener("onaccesschanged",function(a,b){"unregistered"===b?blackberry.bbm.platform.register({uuid:"33490f91-ad95-4ba9-82c4-33f6ad69fbbc"}):"allowed"===b&&(bbm.registered=a)},!1)},setDisplayPicture:function(){blackberry.bbm.platform.self.setDisplayPicture("local:///img/avatar-32x32.png")},inviteToDownload:function(){blackberry.bbm.platform.users.inviteToDownload()},inviteToBBM:function(){blackberry.invoke.invoke({action:"bb.action.INVITEBBM",
uri:"pin:2100000A"})},setAvatarLocal:function(){blackberry.invoke.invoke({target:"sys.bbm.imagehandler",action:"bb.action.SET",uri:"local:///img/avatar.png"})},setAvatarShared:function(){blackberry.invoke.card.invokeFilePicker({mode:blackberry.invoke.card.FILEPICKER_MODE_PICKER,type:[blackberry.invoke.card.FILEPICKER_TYPE_PICTURE,blackberry.invoke.card.FILEPICKER_TYPE_MUSIC]},function(a){blackberry.invoke.invoke({target:"sys.bbm.imagehandler",action:"bb.action.SET",uri:"file://"+a[0]})},function(a){console.log(a)},
function(a){console.log(a)})},startChat:function(a){a=prompt("Contact PIN (Ex. 2100000A)",a);null!==a?/^[A-Fa-f0-9]{8}$/.test(a)?blackberry.invoke.invoke({action:"bb.action.BBMCHAT",uri:"pin:"+a}):blackberry.ui.toast.show("Invalid PIN",{buttonText:"Retry",buttonCallback:function(){bbm.startChat(a)},dismissCallback:function(){}}):blackberry.ui.toast.show("Invoke chat with empty string?",{buttonText:"Yes",buttonCallback:function(){blackberry.invoke.invoke({action:"bb.action.BBMCHAT"})},dismissCallback:function(){}})},
shareText:function(){var a=prompt("Default Text","");null!==a?blackberry.invoke.invoke({target:"sys.bbm.sharehandler",action:"bb.action.SHARE",data:a,mimeType:"text/plain"}):blackberry.ui.toast.show("Invoke share with empty string?",{buttonText:"Yes",buttonCallback:function(){blackberry.invoke.invoke({target:"sys.bbm.sharehandler",action:"bb.action.SHARE",data:"",mimeType:"text/plain"})},dismissCallback:function(){}})},shareImage:function(){blackberry.invoke.card.invokeFilePicker({mode:blackberry.invoke.card.FILEPICKER_MODE_PICKER,
type:[blackberry.invoke.card.FILEPICKER_TYPE_PICTURE,blackberry.invoke.card.FILEPICKER_TYPE_MUSIC]},function(a){blackberry.invoke.invoke({target:"sys.bbm.sharehandler",action:"bb.action.SHARE",uri:"file://"+a[0]})},function(a){console.log(a)},function(a){console.log(a)})},populate:function(a){a.querySelector("#displayname").setCaption(blackberry.bbm.platform.self.displayName);a.querySelector("#available").setChecked("available"===blackberry.bbm.platform.self.status?!0:!1);a.querySelector("#statusmessage").value=
blackberry.bbm.platform.self.statusMessage;a.querySelector("#personalmessage").value=blackberry.bbm.platform.self.personalMessage;a.querySelector("#ppid").value=blackberry.bbm.platform.self.ppid;a.querySelector("#handle").value=blackberry.bbm.platform.self.handle;a.querySelector("#applicationversion").value=blackberry.bbm.platform.self.appVersion;a.querySelector("#bbmsdkversion").value=blackberry.bbm.platform.self.bbmsdkVersion},save:function(){blackberry.bbm.platform.self.setStatus(!0===document.querySelector("#available").getChecked()?
"available":"busy",document.querySelector("#statusmessage").value,function(a){console.log(a)});blackberry.bbm.platform.self.setPersonalMessage(document.querySelector("#personalmessage").value,function(a){console.log(a)})}};
